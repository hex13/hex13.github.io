<!doctype HTML>


    <meta charset="utf-8">
    <style>
       body {
           font-family: sans-serif;
       }
       p, pre {margin:0}

       @keyframes move {
           0% {
               background-position: 0 10px;

           }
           50% {
               background-position: 0 20px;
               background-image:repeating-linear-gradient(to bottom, #707, #707 10%, #c4a 11%, #707 42%);
           }
       }
       svg {
           background-image:repeating-linear-gradient(to bottom, #707, #707 10%, #c4a 11%, #707 12%);

           animation: move 4s infinite alternate;
       }
       circle {
           animation: move 1s infinite;
       }
       circle:hover {
           opacity: 0.3;
       }

    </style>
    <body>

<h1>How to make proxy object in ES6?</h1>
<svg style="font-family:sans-serif;backgrounda:#eed;height:200px;width:100%" viewBox="-100,-100, 200, 200">
    <circle stroke="#F92672" fill="#272822" cx="-200" cy="0" r="50"/>
  <text style="fill:#66D9EF" x="-200" y="0" text-anchor="middle" r="50">code</text>
    <circle fill="#ed3" cx="0" cy="0" r="50"/>
  <text  x="0" y="0" text-anchor="middle" r="50">proxy</text>
    <circle fill="#ca0" cx="200" cy="0" r="50"/>
  <text  x="200" y="0" text-anchor="middle" r="50"> object</text>

  <line x1="-150" y1="0" x2="-50" y2="0" stroke="white" stroke-width="2"/>
  <line x1="-50" y1="0" x2="-70" y2="-10" stroke="white" stroke-width="2"/>
  <line x1="-50" y1="0" x2="-70" y2="10" stroke="white" stroke-width="2"/>

  <line x1="50" y1="0" x2="150" y2="0" stroke="white" stroke-width="2"/>
  <line x1="150" y1="0" x2="130" y2="-10" stroke="white" stroke-width="2"/>
  <line x1="150" y1="0" x2="130" y2="10" stroke="white" stroke-width="2"/>

<svg>

<h3> Proxy is JS objects which can redirect itself to some other object. How does it work? Well. Let's create normal object first with some properties. </h3>
<div style="margin:20px;background:#eee;padding:8px">
<pre style="color:green">const obj = {&nbsp;</pre>
<pre style="color:green">    a: 10,&nbsp;</pre>
<pre style="color:green">    b: 20&nbsp;</pre>
<pre style="color:green">};&nbsp;</pre>
<pre style="color:green">&nbsp;</pre>
</div>
<h4 style='margin:20px'>output:</h4>
<pre style='padding:4px;margin:20px;width:400px;background:#444;color:#ddd'>
</pre>
<h3> Now we'll create empty proxy which will wrap this object. First parameter is target object, second parameter is handler (we put empty object there for now) </h3>
<div style="margin:20px;background:#eee;padding:8px">
<pre style="color:#222">const obj = {&nbsp;</pre>
<pre style="color:#222">    a: 10,&nbsp;</pre>
<pre style="color:#222">    b: 20&nbsp;</pre>
<pre style="color:#222">};&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
<pre style="color:green">const proxy = new Proxy(obj, {});&nbsp;</pre>
<pre style="color:green">&nbsp;</pre>
</div>
<h4 style='margin:20px'>output:</h4>
<pre style='padding:4px;margin:20px;width:400px;background:#444;color:#ddd'>
</pre>
<h3> We write console.log. Notice that this proxy doesn't do anything for now and just returns original value. </h3>
<div style="margin:20px;background:#eee;padding:8px">
<pre style="color:#222">const obj = {&nbsp;</pre>
<pre style="color:#222">    a: 10,&nbsp;</pre>
<pre style="color:#222">    b: 20&nbsp;</pre>
<pre style="color:#222">};&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
<pre style="color:#222">const proxy = new Proxy(obj, {});&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
<pre style="color:green">console.log(proxy.a);&nbsp;</pre>
<pre style="color:green">&nbsp;</pre>
</div>
<h4 style='margin:20px'>output:</h4>
<pre style='padding:4px;margin:20px;width:400px;background:#444;color:#ddd'>
10
</pre>
<h3> Now we write `get` method in proxy handler. Now run program. It should write `13` because now proxy handles takes original value and adds 3 to it. </h3>
<div style="margin:20px;background:#eee;padding:8px">
<pre style="color:#222">const obj = {&nbsp;</pre>
<pre style="color:#222">    a: 10,&nbsp;</pre>
<pre style="color:#222">    b: 20&nbsp;</pre>
<pre style="color:#222">};&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
<pre style="color:red">const proxy = new Proxy(obj, {});&nbsp;</pre>
<pre style="color:green">const proxy = new Proxy(obj, {&nbsp;</pre>
<pre style="color:green">    get(obj, prop) {&nbsp;</pre>
<pre style="color:green">        return obj[prop] + 3;&nbsp;</pre>
<pre style="color:green">    }&nbsp;</pre>
<pre style="color:green">});&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
<pre style="color:#222">console.log(proxy.a);&nbsp;</pre>
<pre style="color:#222">&nbsp;</pre>
</div>
<h4 style='margin:20px'>output:</h4>
<pre style='padding:4px;margin:20px;width:400px;background:#444;color:#ddd'>
13
</pre>
<h4>That's all, folks! For questions you can write me here: <a href="https://twitter.com/hex13code">https://twitter.com/hex13code</a></h4>
</body>
